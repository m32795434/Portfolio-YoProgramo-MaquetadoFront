{"mappings":"oeAAAA,EAAA,S,yDAYA,EAAAC,EAAAC,gBACA,EAAAC,EAAAC,uBACAC,SAASC,iBAAiB,eAAeC,QAAQC,EAAAC,OAIjD,MAAMC,EAAUL,SAASM,cAAc,QACjCC,EAAeP,SAASM,cAAc,aACtCE,EAAOR,SAASM,cAAc,SAEpC,IAAIG,EAAQ,GAwBZ,SAASC,IAEP,MAAMC,EAAOF,EAAMG,KAAIC,GAAQ,mDAejCA,EAAAC,6BAGED,EAAAE,UAAY,wCACSF,EAAAG,4CACvBH,EAAAI,MAAAJ,EAAAK,kDAGkBL,EAAKG,mBACjBH,EAAAC,wEAEEK,KAAA,IACFX,EAAcY,UAAAT,C,sBAGfU,IAAA,mBACHC,aAACC,QAAA,QAAAC,KAAAC,UAAAhB,GACH,CAyBA,SAAAiB,IACE,IAAAC,EAAW,EACXlB,EAAyBP,SACvBW,IAEEA,EAAMI,OAAOJ,EAAQK,QAAAS,GAAAC,SAAAf,EACvBI,OAAAW,SAAAf,EAAAK,OAAA,IAIJb,EAAAwB,YAAA,IAAAF,EAAAG,QAAA,IAEA,CAEAvB,EAAawB,iBAAS,UA/FtB,SAA0BC,GACxBA,EAAEC,iBACF,MAAOjB,EAAMC,EAAOC,GAAS,CAC3Bc,EAAEE,cAAcrB,KAAKsB,MACrBH,EAAEE,cAAcjB,MAAMkB,MACtBH,EAAEE,cAAchB,MAAMiB,OAExB,IAAKnB,EAAM,OACX,MAAMH,EAAO,C,KACXG,EACAF,GAAIsB,KAAKC,M,MACTpB,E,MACAC,EACAH,UAAU,GAEZN,EAAM6B,KAAKzB,GAEXmB,EAAEE,cAAcK,QAEhB/B,EAAKgC,cAAc,IAAIC,YAAY,gBACrC,IA6EAjC,EAAKuB,iBAAiB,eAAcrB,G,EAA2BqB,iBAAA,eAAAW,GAAClC,EAAAuB,iBAAA,eAAAL,GAEhElB,EAAAuB,iBAAA,SAAAY,IAEA,MAAA7B,EAAAc,SAAAe,EAAAC,OAAAT,OAEAQ,EAAAC,OAAAC,QAAA,W,SAlCiB/B,G,EACUL,EACCqC,QAASjC,KAASC,KAAUA,IAEtDN,EAAAgC,cAAA,IAAAC,YAAA,gB,CA8BFM,CAAsEjC,GACtE6B,EAAAC,OAAAC,QAAA,2BA7BA,SAAA/B,GACA,MAAAkC,EAAAvC,EAAawC,MAAiBpC,KAAUC,SACxCkC,EAAAjC,UAAAiC,EAAKjC,SACL2B,GACA,CAyBAQ,CAAyBpC,EAAA,IA9CzB,WACE,MAAAqC,EAAA3B,KAAA4B,MAAA9B,aAAQ+B,QAAA,UACRF,IACFG,QAAAjC,IAAA,gCACS8B,EAAAI,SACD9C,EAAU6B,QAAMa,GACdzC,IACRgB,K,IA4CF1B,SAAAM,cAAA,aACAyB,iBAAA,aAAiBjC,EAAA0D,cAAA,C","sources":["src/js/projects.js"],"sourcesContent":["import 'bootstrap/js/dist/dropdown.js';\r\nimport { manageLogin } from './loguin.js';\r\nimport {\r\n  restoreFromLStorage,\r\n  initConverter,\r\n  imgEventHandler,\r\n  checkForToasts,\r\n  cleanTooltipsFunct,\r\n} from './utils';\r\nimport { write } from './typer';\r\nimport { imgClick } from './elements.js';\r\n\r\nmanageLogin();\r\nrestoreFromLStorage();\r\ndocument.querySelectorAll('[data-type]').forEach(write);\r\n\r\n// ------------------------------------MainNote----------------------------------------\r\n\r\nconst sumSpan = document.querySelector('#sum');\r\nconst shoppingForm = document.querySelector('.shopping');\r\nconst list = document.querySelector('.list');\r\n\r\nlet items = [];\r\n\r\nfunction handleSubmitShop(e) {\r\n  e.preventDefault();\r\n  const [name, price, units] = [\r\n    e.currentTarget.item.value,\r\n    e.currentTarget.price.value,\r\n    e.currentTarget.units.value,\r\n  ];\r\n  if (!name) return;\r\n  const item = {\r\n    name,\r\n    id: Date.now(),\r\n    price,\r\n    units,\r\n    complete: false,\r\n  };\r\n  items.push(item);\r\n\r\n  e.currentTarget.reset();\r\n\r\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\r\n}\r\n\r\nfunction displayItems() {\r\n  /* eslint-disable*/\r\n  const html = items.map(item => `<li class=\"shopping-item\">\r\n  <input \r\n  value=\"${item.id}\"\r\n  type=\"checkbox\"\r\n  ${item.complete && 'checked'}>\r\n  <span class=\"itemName\">${item.name}</span>\r\n  <span class=\"itemPrice\">$ ${item.price*item.units}</span>\r\n  <button \r\n  aria-label=\"Remove ${item.name}\"\r\n  value=\"${item.id}\"class=\"material-symbols-outlined\"\r\n  >delete</button>\r\n    </li>`).join('');\r\n  /* eslint-enable */\r\n\r\n  list.innerHTML = html;\r\n}\r\n\r\nfunction mirrorToLocalStorageList() {\r\n  console.log('mirroringggg...');\r\n  localStorage.setItem('items', JSON.stringify(items));\r\n}\r\n\r\nfunction restoreFromLocalStorageList() {\r\n  const lsItems = JSON.parse(localStorage.getItem('items'));\r\n  if (lsItems) {\r\n    console.log('restoring from local storage');\r\n    if (lsItems.length) {\r\n      items.push(...lsItems);\r\n      displayItems();\r\n      sum();\r\n    }\r\n  }\r\n}\r\n\r\nfunction deleteItem(id) {\r\n  items = items.filter((item) => item.id !== id);\r\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\r\n}\r\nfunction markAsComplete(id) {\r\n  const itemRef = items.find((item) => item.id === id);\r\n  itemRef.complete = !itemRef.complete;\r\n  mirrorToLocalStorageList();\r\n}\r\nfunction sum() {\r\n  let suma = 0;\r\n  items.forEach((item) => {\r\n    if (item.price && item.units) {\r\n      suma += parseInt(item.price) * parseInt(item.units);\r\n    }\r\n  });\r\n  sumSpan.textContent = `$${suma.toFixed(2)}`;\r\n}\r\nshoppingForm.addEventListener('submit', handleSubmitShop);\r\nlist.addEventListener('itemsUpdated', displayItems);\r\nlist.addEventListener('itemsUpdated', mirrorToLocalStorageList);\r\nlist.addEventListener('itemsUpdated', sum);\r\n\r\nlist.addEventListener('click', (event) => {\r\n  const id = parseInt(event.target.value);\r\n  if (event.target.matches('button')) {\r\n    deleteItem(id);\r\n  }\r\n  if (event.target.matches('input[type=\"checkbox\"]')) {\r\n    markAsComplete(id);\r\n  }\r\n});\r\n\r\nrestoreFromLocalStorageList();\r\n\r\n// --------------------------Converter--------------------------\r\n\r\nconst form = document.querySelector('.app form');\r\n\r\nform.addEventListener('mouseenter', initConverter, { once: true });\r\n\r\n// --------------------------TOASTS--------------------------\r\n\r\ncheckForToasts();\r\n\r\n// --------------------------imgEventHandler--------------------------\r\nimgClick.forEach((el) => {\r\n  el.addEventListener('click', imgEventHandler);\r\n  el.addEventListener('keyup', imgEventHandler);\r\n});\r\n\r\n// --------------------------TOOLTIPS--------------------------\r\ncleanTooltipsFunct();\r\n"],"names":["parcelRequire","$gYmfZ","manageLogin","$ekglj","restoreFromLStorage","document","querySelectorAll","forEach","$agcP6","write","$b13570399e5d363d$var$sumSpan","querySelector","$b13570399e5d363d$var$shoppingForm","$b13570399e5d363d$var$list","$b13570399e5d363d$var$items","$b13570399e5d363d$var$displayItems","html","map","item","id","complete","name","price","units","join","innerHTML","log","localStorage","setItem","JSON","stringify","$b13570399e5d363d$var$sum","suma","parseInt","textContent","toFixed","addEventListener","e","preventDefault","currentTarget","value","Date","now","push","reset","dispatchEvent","CustomEvent","$b13570399e5d363d$var$mirrorToLocalStorageList","event","target","matches","filter","$b13570399e5d363d$var$deleteItem","itemRef","find","$b13570399e5d363d$var$markAsComplete","lsItems","parse","getItem","console","length","initConverter"],"version":3,"file":"projects.d43653b0.js.map"}